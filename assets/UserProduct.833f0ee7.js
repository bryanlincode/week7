import{_ as g,c,a as u,b as s,h as m,t as o,g as n,F as v,r as l,o as r,i as b}from"./index.098ad6c4.js";const f={data(){return{isLoading:!1,product:{},id:""}},methods:{getProduct(){const i=`https://vue3-course-api.hexschool.io/v2//api/jpshop/product/${this.id}`;this.isLoading=!0,this.$http.get(i).then(e=>{e.data.success&&(this.product=e.data.product),this.isLoading=!1})},addToCart(i,e=1){const d="https://vue3-course-api.hexschool.io/v2//api/jpshop/cart",a={product_id:i,qty:e};this.isLoading=!0,this.$http.post(d,{data:a}).then(t=>{this.isLoading=!1,this.$httpMessageState(t,"\u52A0\u5165\u8CFC\u7269\u8ECA"),this.$router.push("/user/cart")}).catch(t=>{this.isLoading=!1,this.$httpMessageState(t.response,"\u52A0\u5165\u8CFC\u7269\u8ECA")})}},created(){this.id=this.$route.params.productId,this.getProduct()}},L={class:"container"},k={"aria-label":"breadcrumb"},x={class:"breadcrumb"},y={class:"breadcrumb-item"},C=b("\u8CFC\u7269\u8ECA"),N={class:"breadcrumb-item active","aria-current":"page"},V={class:"row justify-content-center"},j={class:"col-8"},B=["src"],P={class:"col-4"},S={key:0,class:"h5"},T={key:1,class:"h6"},w={key:2,class:"h5"},F=s("hr",null,null,-1);function M(i,e,d,a,t,p){const h=l("Loading"),_=l("router-link");return r(),c(v,null,[u(h,{active:t.isLoading,"z-index":1060},null,8,["active"]),s("div",L,[s("nav",k,[s("ol",x,[s("li",y,[u(_,{to:"/user/cart"},{default:m(()=>[C]),_:1})]),s("li",N,o(t.product.title),1)])]),s("div",V,[s("article",j,[s("h2",null,o(t.product.title),1),s("div",null,o(t.product.content),1),s("div",null,o(t.product.description),1),s("img",{src:t.product.imageUrl,class:"img-fluid mb-3"},null,8,B)]),s("div",P,[t.product.price?n("",!0):(r(),c("div",S,o(t.product.origin_price)+" \u5143",1)),t.product.price?(r(),c("del",T,"\u539F\u50F9 "+o(t.product.origin_price)+" \u5143",1)):n("",!0),t.product.price?(r(),c("div",w,"\u73FE\u5728\u53EA\u8981 "+o(t.product.price)+" \u5143",1)):n("",!0),F,s("button",{type:"button",class:"btn btn-outline-danger",onClick:e[0]||(e[0]=U=>p.addToCart(t.product.id))}," \u52A0\u5230\u8CFC\u7269\u8ECA ")])])])],64)}const z=g(f,[["render",M]]);export{z as default};
